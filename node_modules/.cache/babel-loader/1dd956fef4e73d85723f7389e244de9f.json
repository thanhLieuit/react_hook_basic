{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nconst useFetch = url => {\n  _s();\n  const [data, setdata] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState(false);\n  useEffect(() => {\n    const ourRequest = axios.CancelToken.source();\n    try {\n      async function fetchData() {\n        let res = await axios.get(url);\n        let data = res && res.data ? res.data : [];\n        if (data && data.length > 0) {\n          data.map(item => {\n            item.Date = moment(item.Date).format('DD/MM/YYYY');\n            return item;\n          });\n          data = data.reverse();\n        }\n        setdata(data);\n        setIsLoading(false);\n        setIsError(false);\n      }\n      fetchData();\n    } catch (e) {\n      setIsError(true);\n      setIsLoading(false);\n    }\n  }, [url]);\n  return {\n    data,\n    isLoading,\n    isError\n  };\n};\n_s(useFetch, \"PLIJZGHnaC2dXF79bWH9SB4uVYk=\");\nexport default useFetch;","map":{"version":3,"names":["useEffect","useState","axios","moment","useFetch","url","data","setdata","isLoading","setIsLoading","isError","setIsError","ourRequest","CancelToken","source","fetchData","res","get","length","map","item","Date","format","reverse","e"],"sources":["/Users/tranlieu/Documents/work/study/reacthookbasic/src/customize/fetch.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nconst useFetch = (url) => {\n    const [data, setdata] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [isError, setIsError] = useState(false);\n\n    useEffect(() => {\n        const ourRequest = axios.CancelToken.source();\n        try {\n\n            async function fetchData() {\n                let res = await axios.get(url);\n                let data = res && res.data ? res.data : [];\n                if (data && data.length > 0) {\n                    data.map(item => {\n                        item.Date = moment(item.Date).format('DD/MM/YYYY')\n                        return item;\n                    })\n                    data = data.reverse();\n                }\n                setdata(data);\n                setIsLoading(false);\n                setIsError(false);\n            }\n            fetchData();\n        } catch (e) {\n            setIsError(true);\n            setIsLoading(false);\n        }\n    }, [url]);\n\n\n    return {\n        data, isLoading, isError\n    }\n}\nexport default useFetch;"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,QAAQ;AAC3B,MAAMC,QAAQ,GAAIC,GAAG,IAAK;EAAA;EACtB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACO,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAE7CD,SAAS,CAAC,MAAM;IACZ,MAAMY,UAAU,GAAGV,KAAK,CAACW,WAAW,CAACC,MAAM,EAAE;IAC7C,IAAI;MAEA,eAAeC,SAAS,GAAG;QACvB,IAAIC,GAAG,GAAG,MAAMd,KAAK,CAACe,GAAG,CAACZ,GAAG,CAAC;QAC9B,IAAIC,IAAI,GAAGU,GAAG,IAAIA,GAAG,CAACV,IAAI,GAAGU,GAAG,CAACV,IAAI,GAAG,EAAE;QAC1C,IAAIA,IAAI,IAAIA,IAAI,CAACY,MAAM,GAAG,CAAC,EAAE;UACzBZ,IAAI,CAACa,GAAG,CAACC,IAAI,IAAI;YACbA,IAAI,CAACC,IAAI,GAAGlB,MAAM,CAACiB,IAAI,CAACC,IAAI,CAAC,CAACC,MAAM,CAAC,YAAY,CAAC;YAClD,OAAOF,IAAI;UACf,CAAC,CAAC;UACFd,IAAI,GAAGA,IAAI,CAACiB,OAAO,EAAE;QACzB;QACAhB,OAAO,CAACD,IAAI,CAAC;QACbG,YAAY,CAAC,KAAK,CAAC;QACnBE,UAAU,CAAC,KAAK,CAAC;MACrB;MACAI,SAAS,EAAE;IACf,CAAC,CAAC,OAAOS,CAAC,EAAE;MACRb,UAAU,CAAC,IAAI,CAAC;MAChBF,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC,EAAE,CAACJ,GAAG,CAAC,CAAC;EAGT,OAAO;IACHC,IAAI;IAAEE,SAAS;IAAEE;EACrB,CAAC;AACL,CAAC;AAAA,GAlCKN,QAAQ;AAmCd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module"}